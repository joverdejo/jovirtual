(this.webpackJsonpjovirtual=this.webpackJsonpjovirtual||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},18:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var c=n(3),u=n.n(c),o=n(10),r=n.n(o),s=(n(15),n(16),n(0),n(1),n(2)),l=(n(18),n(4)),a=n(5);var i=function(){var e=Object(c.useState)(null),t=Object(s.a)(e,2),n=t[0],u=t[1],o=Object(c.useState)(null),r=Object(s.a)(o,2),i=r[0],b=r[1],j=Object(c.useState)("sine"),f=Object(s.a)(j,2),O=f[0],h=(f[1],Object(c.useState)(null)),d=Object(s.a)(h,2),p=(d[0],d[1]),w=Object(c.useState)(null),g=Object(s.a)(w,2),v=g[0],R=(g[1],Object(c.useState)(null)),m=Object(s.a)(R,2),D=m[0],S=(m[1],Object(c.useState)(null)),M=Object(s.a)(S,2),y=M[0],x=(M[1],Object(c.useState)(null)),E=Object(s.a)(x,2),k=E[0],A=(E[1],Object(c.useState)(null)),I=Object(s.a)(A,2),T=I[0],C=(I[1],Object(c.useState)(null)),F=Object(s.a)(C,2),X=F[0],Y=(F[1],Object(c.useState)(null)),B=Object(s.a)(Y,2),N=B[0],J=B[1],L=(Object(c.useRef)(null),Object(c.useRef)(null),Object(c.useRef)(null),Object(c.useRef)(null),Object(c.useRef)(null),Object(c.useRef)(null),Object(c.useRef)(null),Object(c.useRef)(null),Object(c.useRef)(null),Object(c.useRef)(null),Object(c.useRef)(null)),P=(Object(c.useRef)(null),Object(c.useRef)(null)),U=Object(c.useRef)(null),q=Object(c.useRef)(null),z=Object(c.useRef)(0),G=Object(c.useRef)(new l.k({volume:-10,urls:{A1:"A1.mp3",A2:"A2.mp3"},baseUrl:"https://tonejs.github.io/audio/casio/"}).toDestination()),H=function(e){console.log("her");var t=parseInt(e)%4;console.log(t,e),null==U.current&&(U.current=440),null==q.current&&(q.current=440),G.current.triggerAttackRelease((U.current+q.current)%2e3,.5)},K=function(e){null!=e.touches?(q.current=Math.abs(e.touches[0].clientY),U.current=Math.abs(e.touches[0].clientX)):(q.current=Math.abs(e.clientY),U.current=Math.abs(e.clientX)),null==U.current&&(U.current=440),null==q.current&&(q.current=440),L.current.style.boxShadow="inset 0 0 30px #000000",null==P.current&&(P.current=new l.f(H,"16n")),P.current.start(0),l.l.bpm.value=120,l.n(),l.l.start()},Q=function(e,t){return Math.abs(t-Math.abs(t-e%(2*t)))},V=function(e){null!=e.touches?(q.current=Math.abs(e.touches[0].clientY),U.current=Math.abs(e.touches[0].clientX)):(q.current=parseInt(Math.abs(e.clientY)),U.current=parseInt(Math.abs(e.clientX))),null==U.current&&(U.current=440),null==q.current&&(q.current=440);var t=Q(U.current,255),n=Q(q.current,255);Q(U.current*q.current,255);document.body.style.backgroundColor="rgb("+t+", "+n+", 100)"},W=function(){if(null===N){z.current=(z.current+1)%10/100;var e=new l.e(z.current).toDestination();J(e)}else z.current=(z.current+1)%10/100,e=new l.e(z.current).toDestination(),J(e);G.current.disconnect(),G.current.connect(e).toDestination(),L.current.style.boxShadow="inset 0 0 20px #000000",null==P.current||(console.log(P),P.current.stop()),l.l.stop()};return Object(c.useEffect)((function(){u(new l.d(1).toDestination()),b((new l.g).toDestination()),p(new l.c(50,"lowpass").toDestination())}),[]),Object(c.useEffect)((function(){i&&i.connect(n)}),[n]),Object(c.useEffect)((function(){i&&(i.type=O)}),[i]),Object(c.useEffect)((function(){i&&v&&(i.connect(v),v.start())}),[v]),Object(c.useEffect)((function(){D&&y&&(y.autostart=!0,y.playbackRate=1,y.loop=!0,l.m().then((function(){y.start})))}),[y]),Object(c.useEffect)((function(){i&&(k?i.connect(k).toDestination():(i.disconnect(k),b((new l.g).toDestination()),i.type=O))}),[k]),Object(c.useEffect)((function(){i&&(T?i.connect(T).toDestination():(i.disconnect(T),b((new l.g).toDestination()),i.type=O))}),[T]),Object(c.useEffect)((function(){i&&(X?i.connect(X).toDestination():(i.disconnect(X),b((new l.g).toDestination()),i.type=O))}),[X]),Object(c.useEffect)((function(){i&&(N?i.connect(N).toDestination():(b((new l.g).toDestination()),i.type=O))}),[N]),Object(a.jsx)("div",{children:Object(a.jsx)("div",{id:"pad",ref:L,onTouchStart:K,onTouchMove:V,onTouchEnd:W,onMouseDown:K,onMouseMove:V,onMouseUp:W,className:"app"})})};var b=function(){return Object(a.jsxs)("div",{className:"App-body",children:[Object(a.jsxs)("div",{id:"welcome",className:"welcome",onTouchStart:function(){document.getElementById("welcome").remove()},children:[Object(a.jsx)("h1",{children:"welcome to jovirtual"}),Object(a.jsx)("p",{children:"press and hold anywhere to create"})]}),Object(a.jsx)(i,{})]})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,c=t.getFID,u=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),u(e),o(e),r(e)}))};r.a.render(Object(a.jsx)(u.a.StrictMode,{children:Object(a.jsx)(b,{})}),document.getElementById("root")),j()}},[[28,1,2]]]);
//# sourceMappingURL=main.957bc3df.chunk.js.map